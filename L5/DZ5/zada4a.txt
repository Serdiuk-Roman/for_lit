## Вступ

Основна увага тесту полягає в оцінці ремонтопридатності та розширюваності коду, який представляє кандидат.

Киндидату потрібно створити нову гілку в сховищі та відправити електронне повідомлення коли задача буде вирішена.

Немає обмежень ні по часу ні по технологіям. Кандидат має відчувати свободу у виборі технології які йому/їй зручні.

Якщо кандидат відібраний(відсортований) до інтерв'ю, він/вона мають надати пояснення щодо того, як застосунок можна розширити із додатковим функціоналом.

## Опис

Цей симулятор повинен визначити результат битви на основі розрахунків імовірності.

Після запуску симулятора всі військові команди почнуть атакувати один одного, поки не залишиться тільки одна армія.

## Юніти

Кожен юніт представляє або солдата, або транспортний засіб, що використовується заздалегідь визначеною кількістю солдатів.

Всі одиниці мають наступні властивості:

| Властивість |  Діапазон    |                             Опис                                 |
|-------------|--------------|------------------------------------------------------------------|
| Здоров'я    | % \[0-100\]  | Представляє здоров'я юніта                                       |
| Перезарядка | \[100-2000\] | Представляє число мс, необхідних для перезарядки юніта для атаки |

### Солдати

Солдати - це юніти, що мають додаткову власність:

| Властивість | Діапазон |            Опис            |
|-------------|----------|----------------------------|
| Досвід      | \[0-50\] | Представляє досвід солдата |

Властивість "досвід" збільшується після кожної успішної атаки, і це використовується, щоб розрахувати ймовірність успіху атаки та підсумку заподіяної шкоди

Солдати вважаються активними, якщо вони мають будь-який рівень здоров'я.

#### Атака

Імовірність успіху атаки солдата розраховується:

0.5 * (1 + health/100) * random(50 + experience, 100) / 100

де <random(min, max)> повертає випадкове число між min та max (включно)

#### Пошкодження

Сумарне пошкодження, яке солдат може завдати, розраховується таким чином:

0.05 + experience / 100

### Транспорт

Бойові машини мають такі додаткові властивості:

| властивості | Діапазон |                        Опис                                       |
|-------------|----------|-------------------------------------------------------------------|
|  Оператори  | \[1-3\]  | Кількість солдатів, необхідних для керування транспортним засобом |

Властивість **перезарядка** для транспортного засобу повинно перевищувати 1000 (мс).

Загальний стан здоров'я транспортного засобу відображається як середнє значеення здоров'я всіх його операторів та здоров'я транспортного засобу.

Транспорт вважається активним, якщо він сам має якесь здоров'я, і ​​є оператор транспортного засобу з будь-яким здоров'ям.

Якщо транспортний засіб знищений, будь-який оператор, що залишився, вважається неактивним (убитий).

#### Атака

Вірогідність успіху атаки транспорта визначається наступним чином:

0.5 * (1 + vehicle.health / 100) * gavg(operators.attack_success)

де **gavg** - геометричний середній показник успіху атаки всіх операторів транспортного засобу

#### Пошкодження

Пошкодження, завданий транспортн засобу, розраховується:

0.1 + sum(operators.experience / 100)

Загальне пошкодження, завданий транспортному засобу, розподіляється операторам таким чином:
- 60% загальної шкоди наноситься на транспортний засіб
- 20% від загальної шкоди наноситься випадковому оператору автомобіля
- Решта пошкоджень наноситься рівномірно іншим операторам (по 10% кожен)


## Команди

Команди складаються з ряду підрозділів (солдатів або транспортних засобів), які ведуть себе як пов'язані групи.

Група є активною, якщо вона містить активного юніта.

#### Атака

Імовірність успішного удару команди визначається як геометричний середній показник успіху атаки кожного члена.

#### Пошкодження

Пошкодження, отримане від успішної атаки, рівномірно розподіляється серед усіх членів команди.

Пошкодження, завдане успішній атаці, - це накопичення пошкодженнь, завданої кожним членом команди.

## Атака та захист

Кожен раз, коли атакує команда, вона повина вибрати цільову команду залежно від обраної стратегії:

| Стратегія |                   Опис                  |
|-----------|-----------------------------------------|
| random    | атакувати будь-яку випадкову команду    |
| weakest   | напад на найслабкішу протилежну команду |
| strongest | напад на найсильнішу протилежну команду |

Як тільки ціль визначається, як атакуючі, так і команди, що захищаються розраховують успіх імовірності атаки і команду з найбільшою ймовірністю виграє.

Якщо атакуюча команда виграє, збиток наноситься на захисну сторону, інакше атакуюча сторона не нанесе шкоди.

------ Якщо атакуюча команда перемагає, то пошкодження наноситься стороні, що захищається.
------ Якщо атакуюча команда програє, жоден із боків не покривається.

## Configuration

The following constraints should be configurable:
Наступні обмеження мають бути налаштовуваними:

- Кількість армій: 2 <= n
- Вибір стратегії нападу на армію: random|weakest|strongest
- Число команд в армії: 2 <= n
- Кількість юнітів в команді: 5 <= n <= 10